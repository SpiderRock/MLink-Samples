// ------------------------------------------------------------------------------------------------------------------------------
//
// Machine generated by root/generators/Protobuf.Messages.pl.  Do not edit directly.  Edit the corresponding root/definitions/Mbus.def
//
// Copyright 2014, SpiderRock Technology
//
// ------------------------------------------------------------------------------------------------------------------------------

syntax = "proto3";

package spiderrock.protobuf;
option csharp_namespace = "SRProtobufCore";

import "google/protobuf/timestamp.proto";

import "spiderrock_common.proto";

/*
    SpdrParentLimit records are supplied by clients (via SRSE) for use with parent orders having orderLimitType=Aux.  This table can be updated either before or after a parent order begins working and will influence the limit(s) used when working child orders.  Updates to this table do not constitute cancel/replace operations for the parent order.
*/    
message SpdrParentLimit {
    message PKey {
        
        string accnt = 10;
        OptionKey sec_key = 11;
        SpdrKeyType sec_type = 12;
        SpdrSource spdr_source = 13;
        BuySell order_side = 14;
        int64 grouping_code = 15;
    }


    MbusInfo _meta = 1;
    
    PKey pkey = 2;
    int32 order_active_size = 100; // OrderActiveSize = -1 will use all available parent order size; OrderActiveSize = 0 will cancel any existing child orders;
    YesNo add_cum_fill_quantity = 103; // If Yes then OrderActiveSize is calculated @ order arrival as requested OrderActiveSize + existing 'CumFillQuantity'.
    SpdrLimitType order_limit_type = 106;
    SpdrLimitClass take_limit_class = 109; // Simple = LimitPrice, Surface = BEST(LimitPrice, SurfLimit), Probability = BEST(LimitPrice, ProbLimit)
    SpdrLimitClass make_limit_class = 112; // Simple = LimitPrice, Surface = BEST(LimitPrice, SurfLimit), Probability = BEST(LimitPrice, ProbLimit)
    double order_prc_limit = 115; // Applies if LimitType = Prc[]
    double order_ref_uPrc = 118; // default=underlier.mid
    float order_ref_delta = 121; // default=option.delta
    float order_ref_gamma = 124; // default=option.gamma
    float order_vol_limit = 127; // Applies if LimitType = Vol[] [uses SR dividends and borrow rates]
    float rate_override = 130; // (depricated) zero = ignore;> zero = override
    float sdiv_override = 133; // (depricated)
    string ddiv_override = 136; // (depricated) discrete dividend string override ([yearsToExpiry,divYears:divAmount,divYears:divAmount, ...])
    OverrideCode override_code = 139; // (depricated)
    double order_prc_offset = 142; // default=0
    StateModel state_model = 145;
    StateModel u_state_model = 148;
    AlphaType take_alpha_type = 151; // Applies if takeLimitClass = Probability
    AlphaType make_alpha_type = 154; // Applies if makeLimitClass = Probability
    float take_alpha_factor = 157; // [-2,+2] takeProbLimit = MAX(takeProbability, takeProbAvg + takeAlphaFactor * takeProbStd) [if AlphaType = Relative]
    float make_alpha_factor = 160; // [-2,+2] makeProbLimit = MAX(makeProbability, makeProbAvg + makeAlphaFactor * makeProbStd) [if AlphaType = Relative]
    float take_probability = 163; // takeProbLimit = takeProbability [if AlphaType = Static]
    float make_probability = 166; // makeProbLimit = makeProbability [if AlphaType = Static]
    double take_surf_prc_offset = 169; // default=0
    float take_surf_vol_offset = 172; // default=0
    float take_surf_width_offset = 175; // [-1.x to +1.x]       -1.0 = -0.5 * avgMktWidth, +1.0 = +0.5 * avgMktWidth
    double make_surf_prc_offset = 178; // default=0
    float make_surf_vol_offset = 181; // default=0
    float make_surf_width_offset = 184; // [-1.x to +1.x]       -1.0 = -0.5 * avgMktWidth, +1.0 = +0.5 * avgMktWidth
    float order_ref_event_mult = 187;
    google.protobuf.Timestamp order_ref_event_dttm = 190;
    uint32 exch_mask = 193; // eligible exchanges (0 = all), a non-zero mask must be in the subset of the SpdrParentOrder exchMask
    TimeInForce time_in_force = 196; // None = do not override parent order;  Any other value cause the values below to supercede the same fields in the parent order
    google.protobuf.Timestamp start_dttm = 199; // [optional] (parent order start time)
    int32 order_duration = 202; // [optional] (number of seconds)
    google.protobuf.Timestamp good_till_dttm = 205; // [optional] (default: 2000-01-01)
    int32 progress_expose_time = 208; // minimum time (secs) to expose order (0 = no minimum; used to guarantee that the order is exposed at mid-market for some time before actively taking) (If the order is an Alpha type order, updating this will reset the alpha progression)
    float max_acc_day_wt_vega_ln = 211; // max accnt day (time weighted) vega long (positive number;-1=no limit);risk limit = max limit - (current net counter - offset)
    float max_acc_day_wt_vega_sh = 214; // max accnt day (time weighted) vega short (positive number;-1=no limit);risk limit = max limit + (current net counter - offset)
    float acc_day_wt_vega_offset = 217; // accnt day (time weighted) vega offset (target position)
    float max_acc_day_dDelta_ln = 220; // max accnt day $delta long (positive number;-1=no limit);risk limit = max limit - (current net counter	- offset)
    float max_acc_day_dDelta_sh = 223; // max accnt day $delta short (positive number;-1=no limit);risk limit = max limit + (current net counter - offset)
    float acc_day_dDelta_offset = 226; // accnt day $delta offset (target position)
    float max_exp_day_wt_vega_ln = 229; // max accnt+expiration day (time weighted) vega long (positive number;-1=no limit);risk limit = max limit - (current net counter - offset)
    float max_exp_day_wt_vega_sh = 232; // max accnt+expiration day (time weighted) vega short (positive number;-1=no limit);risk limit = max limit + (current net counter - offset)
    float exp_day_wt_vega_offset = 235; // accnt+expiration day (time weighted) vega offset (target position)
    float max_sym_day_vega_ln = 238; // max acct+symbol day vega long (positive number;-1=no limit);risk limit = max limit - (current net counter - offset)
    float max_sym_day_vega_sh = 241; // max acct+symbol day vega short (positive number;-1=no limit);risk limit = max limit + (current net counter - offset)
    float sym_day_vega_offset = 244; // accnt+symbol day vega offset (target position)
    float max_sym_day_wt_vega_ln = 247; // max acct+symbol day (time weighted) vega long (positive number;-1=no limit);risk limit = max limit - (current net counter - offset)
    float max_sym_day_wt_vega_sh = 250; // max acct+symbol day (time weighted) vega short (positive number;-1=no limit);risk limit = max limit + (current net counter - offset)
    float sym_day_wt_vega_offset = 253; // accnt+symbol day (time weighted) vega offset (target position)
    float max_sym_day_dDelta_ln = 256; // max acct+symbol day $delta long (positive number;-1=no limit);risk limit = max limit - (current net counter - offset)
    float max_sym_day_dDelta_sh = 259; // max acct+symbol day $delta short (positive number;-1=no limit);risk limit = max limit + (current net counter - offset)
    float sym_day_dDelta_offset = 262; // accnt+symbol day $delta offset (target position)
    float max_exp_day_rMetric6_ln = 265; // max acct+expiration day rMetric6 long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_exp_day_rMetric6_sh = 268; // max acct+expiration day rMetric6 short (positive number;-1=no limit);risk limit = max limit + current net counter
    float exp_day_rMetric6_offset = 271; // accnt+expiration day rMetric6 offset (target position)
    float max_sym_day_rMetric7_ln = 274; // max acct+symbol day rMetric7 long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_sym_day_rMetric7_sh = 277; // max acct+symbol day rMetric7 short (positive number;-1=no limit);risk limit = max limit + current net counter
    float sym_day_rMetric7_offset = 280; // accnt+symbol day rMetric7 offset (target position)
    float max_grp_day_dDelta_ln = 283; // max acct+riskGroup day $delta long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_grp_day_dDelta_sh = 286; // max acct+riskGroup day $delta short (positive number;-1=no limit);risk limit = max limit + current net counter
    float grp_day_dDelta_ratio = 289; // target bot / sld ratio (eg ratio=2.0 means that neutral is bot ddelta = 2x sld ddelta)
    float max_grp_day_vega_ln = 292; // max acct+riskGroup day vega long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_grp_day_vega_sh = 295; // max acct+riskGroup day vega short (positive number;-1=no limit);risk limit = max limit + current net counter
    float max_grp_day_vega_abs = 298; // max acct+riskGroup day vega abs (positive number;-1=no limit);risk limit = max limit - abs(current net counter)
    float grp_day_vega_ratio = 301; // target bot / sld ratio (eg ratio=2.0 means that neutral is bot vega = 2x sld vega)
    float max_grp_day_premium_ln = 304; // max acct+riskGroup day premium over parity long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_grp_day_premium_sh = 307; // max acct+riskGroup day premium over parity short (positive number;-1=no limit);risk limit = max limit + current net counter
    float max_grp_day_premium_abs = 310; // max acct+riskGroup day premium over parity abs (positive number;-1=no limit);risk limit = max limit - abs(current net counter)
    float grp_day_premium_ratio = 313; // target bot / sld ratio (eg ratio=0.5 means that neutral is bot premium = 0.5x sld premium)
    float max_grp_day_rMetric1_ln = 316; // max acct+riskGroup day rMetric1 long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_grp_day_rMetric1_sh = 319; // max acct+riskGroup day rMetric1 short (positive number;-1=no limit);risk limit = max limit + current net counter
    float max_grp_day_rMetric1_abs = 322; // max acct+riskGroup day rMetric1 abs (positive number;-1=no limit);risk limit = max limit - abs(current net counter)
    float grp_day_rMetric1_ratio = 325; // target bot / sld ratio (eg ratio=0.5 means that neutral is bot rMetric1 = 0.5x sld rMetric1)
    float max_grp_day_rMetric2_ln = 328; // max acct+riskGroup day rMetric2 long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_grp_day_rMetric2_sh = 331; // max acct+riskGroup day rMetric2 short (positive number;-1=no limit);risk limit = max limit + current net counter
    float max_grp_day_rMetric3_ln = 334; // max acct+riskGroup day rMetric3 long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_grp_day_rMetric3_sh = 337; // max acct+riskGroup day rMetric3 short (positive number;-1=no limit);risk limit = max limit + current net counter
    float max_grp_day_rMetric4_ln = 340; // max acct+riskGroup day rMetric4 long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_grp_day_rMetric4_sh = 343; // max acct+riskGroup day rMetric4 short (positive number;-1=no limit);risk limit = max limit + current net counter
    float max_grp_day_rMetric5_ln = 346; // max acct+riskGroup day rMetric5 long (positive number;-1=no limit);risk limit = max limit - current net counter
    float max_grp_day_rMetric5_sh = 349; // max acct+riskGroup day rMetric5 short (positive number;-1=no limit);risk limit = max limit + current net counter
    int32 max_grp_day_contracts_ln = 352; // max acct+riskGroup day contracts long (positive number;-1=no limit);risk limit = max limit - current net counter
    int32 max_grp_day_contracts_sh = 355; // max acct+riskGroup day contracts short (positive number;-1=no limit);risk limit = max limit + current net counter
    int32 max_grp_day_contracts_abs = 358; // max acct+riskGroup day contracts abs (positive number;-1=no limit);risk limit = max limit - abs(current net counter)
    float sym_ema_cxl_dDelta_ln = 361; // max acct+symbol 60s EMA $delta long (positive number; <= 0 is no limit) [will immediately cxl all option orders in a symbol if any order in the symbol breaches]
    float sym_ema_cxl_dDelta_sh = 364; // max acct+symbol 60s EMA $delta short (positive number; <= 0 is no limit)
    float sym_ema_cxl_wt_vega_ln = 367; // max acct+symbol 60s EMA wtVega long (positive number; <= 0 is no limit) [will immediately cxl all option orders in a symbol if any order in the symbol breaches]
    float sym_ema_cxl_wt_vega_sh = 370; // max acct+symbol 60s EMA wtVega short (positive number; <= 0 is no limit)
    float theo_vol = 373; // client supplied theoretical volatility (used for markup only)
    string accnt_route_code = 376; // accntRoute (overrides accntRoute in the parent order and account config)
    string route_code_alt1 = 379; // alt flow allocation route
    float route_alloc_alt1 = 382; // percentage of flow to allocate to routeCodeAlt1
    string route_code_alt2 = 385; // alt flow allocation route
    float route_alloc_alt2 = 388; // percentage of flow to allocate to routeCodeAlt2
    float cl_arrive_mark = 391; // client specified arrival mark (passed through to ParentExecution; markup only)
    string user_data1 = 394; // client supplied data field; passes through to parent and child executions and reports as well as FIX drops
    string user_data2 = 397; // client supplied data field; passes through to parent and child executions and reports as well as FIX drops
    string modified_by = 400; // user who last modified this record
    google.protobuf.Timestamp timestamp = 403; // timestamp of last modification
}


